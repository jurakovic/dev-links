<script>
    function hideGhphiddenElements() {
        const elements = document.querySelectorAll('.ghphidden');
        elements.forEach(el => {
            el.style.display = 'none';
        });
    }
    function loadPosts(name) {
        fetch(`/dev-links/posts/${name}.json`)
            .then(response => response.json())
            .then(items => {
                const container = document.getElementById(name);
                if (!container) return;

                // Create unordered list element with custom styling
                const ul = document.createElement('ul');
                ul.style.listStyleType = 'none'; // Remove default bullets
                ul.style.padding = '0';
                ul.style.margin = '0';

                items.forEach(item => {
                    // Parse date and format as YYYY-MM-DD
                    let dateStr = '';
                    if (item.pubDate) {
                        // Handles both "Thu, 28 Aug 2025 17:05:00 +0000" and "Tue, 26 Aug 2025 15:26:00 GMT"
                        const dateObj = new Date(item.pubDate);
                        if (!isNaN(dateObj)) {
                            const yyyy = dateObj.getFullYear();
                            const mm = String(dateObj.getMonth() + 1).padStart(2, '0');
                            const dd = String(dateObj.getDate()).padStart(2, '0');
                            dateStr = `${yyyy}-${mm}-${dd}`;
                        }
                    }

                    // Create list item with custom styling
                    const li = document.createElement('li');
                    li.style.padding = '2px 0';
                    li.style.whiteSpace = 'nowrap'; // Prevent line breaking

                    // Create a small indicator instead of bullet
                    const indicator = document.createElement('span');
                    indicator.textContent = 'â€º';  // Using a compact character as separator
                    indicator.style.marginRight = '6px';
                    li.appendChild(indicator);

                    // Create anchor element
                    const a = document.createElement('a');
                    a.href = item.link;
                    // Set anchor text to "YYYY-MM-DD Title" if date is available
                    a.textContent = dateStr ? `${dateStr} ${item.title}` : item.title;
                    a.target = '_blank';
                    a.rel = 'noopener noreferrer';
                    a.style.whiteSpace = 'nowrap'; // Ensure the anchor text doesn't wrap
                    a.style.display = 'inline-block'; // Make the anchor behave like a block

                    // Append anchor to list item
                    li.appendChild(a);

                    // Append list item to unordered list
                    ul.appendChild(li);
                });

                // Append the entire list to the container
                container.appendChild(ul);
            })
            .catch(error => {
                console.error(`Failed to load ${name} posts:`, error);
            });
    }
    document.addEventListener('DOMContentLoaded', () => {
        hideGhphiddenElements();
        loadPosts('dotnet');
        loadPosts('visualstudio');
        loadPosts('visualstudiomagazine');
        loadPosts('microservices');
        loadPosts('developertoarchitect');
        loadPosts('ardalis');
        loadPosts('hanselman');
    });
</script>
